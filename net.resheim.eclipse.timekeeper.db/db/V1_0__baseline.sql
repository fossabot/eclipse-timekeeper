CREATE TABLE ACTIVITY (ID BIGINT NOT NULL, END TIMESTAMP, MANUAL BOOLEAN, START TIMESTAMP, SUMMARY VARCHAR, trackedtask VARCHAR, PRIMARY KEY (ID));
CREATE TABLE NOTES (ID INTEGER NOT NULL, DATE LONGVARBINARY, RAWTEXT VARCHAR, PRIMARY KEY (ID));
CREATE TABLE TRACKEDTASK (ID VARCHAR NOT NULL, REPOSITORYURL VARCHAR, TASKID VARCHAR, TICK TIMESTAMP, CURRENTACTIVITY_ID BIGINT, PRIMARY KEY (ID));
CREATE TABLE TRACKEDTASK_ACTIVITY (TrackedTask_ID VARCHAR NOT NULL, activities_ID BIGINT NOT NULL, PRIMARY KEY (TrackedTask_ID, activities_ID));
CREATE TABLE TRACKEDTASK_NOTES (TrackedTask_ID VARCHAR NOT NULL, notes_ID INTEGER NOT NULL, PRIMARY KEY (TrackedTask_ID, notes_ID));
ALTER TABLE ACTIVITY ADD CONSTRAINT FK_ACTIVITY_trackedtask FOREIGN KEY (trackedtask) REFERENCES TRACKEDTASK (ID);
ALTER TABLE TRACKEDTASK ADD CONSTRAINT FK_TRACKEDTASK_CURRENTACTIVITY_ID FOREIGN KEY (CURRENTACTIVITY_ID) REFERENCES ACTIVITY (ID);
ALTER TABLE TRACKEDTASK_ACTIVITY ADD CONSTRAINT FK_TRACKEDTASK_ACTIVITY_TrackedTask_ID FOREIGN KEY (TrackedTask_ID) REFERENCES TRACKEDTASK (ID);
ALTER TABLE TRACKEDTASK_ACTIVITY ADD CONSTRAINT FK_TRACKEDTASK_ACTIVITY_activities_ID FOREIGN KEY (activities_ID) REFERENCES ACTIVITY (ID);
ALTER TABLE TRACKEDTASK_NOTES ADD CONSTRAINT FK_TRACKEDTASK_NOTES_notes_ID FOREIGN KEY (notes_ID) REFERENCES NOTES (ID);
ALTER TABLE TRACKEDTASK_NOTES ADD CONSTRAINT FK_TRACKEDTASK_NOTES_TrackedTask_ID FOREIGN KEY (TrackedTask_ID) REFERENCES TRACKEDTASK (ID);
